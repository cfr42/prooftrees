% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% This is file `forest-ext-tagging.lvt',
%%
%% Copyright (C) 2026 Clea F. Rees.
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   https://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2008-05-04 or later.
%% 
%% This work has the LPPL maintenance status `maintained'.
%% 
%% The Current Maintainer of this work is Clea F. Rees.
%% 
%% This file may only be distributed together with a copy of the package
%% forest-ext. You may, however, distribute the package without this file.
%% 
%% This work consists of all files listed in manifest.txt.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DocumentMetadata{
 tagging=on,
 lang=en-GB,
 pdfversion=2.0,
 pdfstandard=ua-2,
 uncompress,
 debug={tagpdf},
}
\tagpdfsetup{
  math/mathml/structelem,
}
\RequirePackage{svn-prov}
\ProvidesFileSVN{$Id: forest-ext-tagging-custom.lvt 11612 2026-02-18 02:13:50Z cfrees $}[v0.0 \revinfo][\filebase: tag support test]
\input regression-test.tex\relax
\documentclass{article}
\START
\TEST{tagforest-custom-mem-mmz}{%
  \IfFileExists{forest-ext-tagging-custom.mmz}{%
    \TYPE{forest-ext-tagging-custom.mmz:}%
    \NEWLINE
    \SHOWFILE{forest-ext-tagging-custom.mmz}%
  }{%
    \TYPE{CANNOT FIND forest-ext-tagging-custom.mmz}%
  }%
}
\OMIT
\usepackage[extract=perl]{memoize}
\usepackage{memoize-ext-debug}
\ifcsname directlua\endcsname
  \relax
\else
  \usepackage[T1]{fontenc}
\fi
\usepackage[ext.tagging-debug]{forest}
\title{This Test Needs No Title}
% Note that this test will probably cause compilation failure.
\begin{document}
\TIMO
\TEST{tagforest-custom-mem}{%
  \showoutput
  \forestset{%
    custom tagging,
  }%
  ABC apple banana pear
  \begin{forest}
    typeout={tagging should be 1:},
    typeout/.register=tagging,
    % This is example is from Jasper Habicht.
    [VP
      [DP[John]]
      [Vâ€™, alt text=V prime,
        [V[sent]]
        [DP[Mary]]
        [DP[D[a]][NP[letter]]]
      ]
    ]
  \end{forest}
  ABC apple banana pear
}
\SHOWPDFTAGS
\SuspendTagging {l3build}%
\TEST{tagforest-custom-mem-cmemo}{%
  \IfFileExists{memos/E736A0412E8F019379D6EB2254F96EC2.memo}{%
    \TYPE{memos/E736A0412E8F019379D6EB2254F96EC2.memo:}%
    \NEWLINE
    \SHOWFILE{memos/E736A0412E8F019379D6EB2254F96EC2.memo}%
  }{%
    \TYPE{CANNOT FIND memos/E736A0412E8F019379D6EB2254F96EC2.memo!}%
  }%
}
\TEST{tagforest-custom-mem-ccmemo}{%
  \IfFileExists{memos/E736A0412E8F019379D6EB2254F96EC2-E778DCCCB8AAB0BBD3F6CFEEFD2421F8.memo}{%
    \TYPE{memos/E736A0412E8F019379D6EB2254F96EC2-E778DCCCB8AAB0BBD3F6CFEEFD2421F8.memo:}%
    \NEWLINE
    \SHOWFILE{memos/E736A0412E8F019379D6EB2254F96EC2-E778DCCCB8AAB0BBD3F6CFEEFD2421F8.memo}%
  }{%
    \TYPE{CANNOT FIND memos/E736A0412E8F019379D6EB2254F96EC2-E778DCCCB8AAB0BBD3F6CFEEFD2421F8.memo!}%
  }%
}
\ResumeTagging {l3build}%
\OMIT
\end{document}
\END

